PATH=/opt/intel/bin:/opt/gcc6/bin:/usr/local/bin:$HOME/.cargo/bin:$PATH
ICC_VERSION=2016.2.181
INTEL_ROOT="/opt/intel/compilers_and_libraries_$ICC_VERSION/linux"

alias icc="icc -Wl,-rpath,$INTEL_ROOT/bin/intel64 -Wl,-rpath,$INTEL_ROOT/compiler/lib/intel64_lin"
alias icpc="icpc -Wl,-rpath,$INTEL_ROOT/bin/intel64 -Wl,-rpath,$INTEL_ROOT/compiler/lib/intel64_lin"
alias pimp-nvidia="nvidia-settings -a '[gpu:0]/GPUPowerMizerMode=1'"

fork () {
    f=$(mktemp /tmp/forkXXXXXXXXXX.log) &&
    setsid "$@" &> $f &&
    echo "Forked to background, run tail -f $f"
}

sign-executable () {
    f=$(mktemp /tmp/signedXXXXXXXXXX.exe) &&
    osslsigncode sign -certs ~/csr/IsmailDonmez.pem \
                      -key ~/csr/IsmailDonmez.key \
                      -h sha512 -t http://time.certum.pl \
                      -n "i10z Open Source Builds" -i https://i10z.com \
                      -in $1 -out $f &&
    mv $f $1
}

qtconsole () {
    source ~/.pystable &> /dev/null
    LD_PRELOAD=/havana/sources/qt5noblink/qt5noblink.so setsid jupyter qtconsole
    source ~/.pystable &> /dev/null
}

toggle-python () {
    source ~/.pystable
}

vm-pause () {
    [[ ! -z $1 ]] && VBoxManage controlvm $1 pause
}

vm-resume () {
    [[ ! -z $1 ]] && VBoxManage controlvm $1 resume
}

vm-suspend () {
    [[ ! -z $1 ]] && VBoxManage controlvm $1 savestate
}

vm-start () {
    [[ ! -z $1 ]] && setsid VBoxHeadless -s $1 &> /dev/null
}

vm-status () {
    [[ ! -z $1 ]] && VBoxManage showvminfo $1 | grep -E "^State"
}
