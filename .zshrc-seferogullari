PATH=/opt/intel/bin:/usr/local/bin:$PATH

alias fsi="fsharpi --nologo"
alias fsc="fsharpc --nologo"
alias gdb="gdb --quiet"
alias isc="osc -Aibs"
alias pimp-nvidia="nvidia-settings -a '[gpu:0]/GPUPowerMizerMode=1'"
alias tremote="transmission-remote"

fork () {
    f=$(mktemp /tmp/forkXXXXXXXXXX.log) &&
    setsid "$@" &> $f &&
    echo "Forked to background, run tail -f $f"
}

sign-executable () {
    for i in "$@"; do
        f=$(mktemp /tmp/signedXXXXXXXXXX.exe) &&
        osslsigncode sign -certs ~/csr/IsmailDonmez.pem \
                          -key ~/csr/IsmailDonmez.key \
                          -h sha256 -t http://time.certum.pl \
                          -n "i10z Open Source Builds" -i https://i10z.com \
                          -in $i -out $f &&
        mv $f $i;
    done
}

qtconsole () {
    LD_PRELOAD=/havana/sources/qt5noblink/qt5noblink.so setsid jupyter3 qtconsole
}

toggle-python () {
    source ~/.pystable
}

vm-pause () {
    [[ ! -z $1 ]] && VBoxManage controlvm $1 pause
}

vm-resume () {
    [[ ! -z $1 ]] && VBoxManage controlvm $1 resume
}

vm-suspend () {
    [[ ! -z $1 ]] && VBoxManage controlvm $1 savestate
}

vm-start () {
    [[ ! -z $1 ]] && setsid VBoxHeadless -s $1 &> /dev/null
}

vm-status () {
    [[ ! -z $1 ]] && VBoxManage showvminfo $1 | grep -E "^State"
}
